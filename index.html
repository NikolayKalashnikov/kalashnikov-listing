<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ -->
  <meta name="description" content="–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –æ—Ç KALASHNIKOV LISTING">
  <meta property="og:title" content="KALASHNIKOV LISTING ‚Äî –°–æ–º–µ–ª—å–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏">
  <meta property="og:image" content="images/preview.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kalashnikovlisting.ru">

  <title>KALASHNIKOV LISTING</title>

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <!-- –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body>
  <!-- ========== –•–ï–î–ï–† (–®–ê–ü–ö–ê) ========== -->
  <header class="header">
    <div class="header-container">
      <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –ª–æ–≥–æ—Ç–∏–ø –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="header-left">
        <h1>KALASHNIKOV <span>LISTING</span></h1>
        <div class="header-subtitle">–°–æ–º–µ–ª—å–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã -->
      <div class="header-right">
        <button class="theme-toggle-header" onclick="toggleTheme()" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
      </div>
    </div>
  </header>

  <!-- ========== –¢–£–õ–ë–ê–† (–°–ß–Å–¢–ß–ò–ö + –§–ò–õ–¨–¢–†–´) ========== -->
  <div class="toolbar">
    <!-- –°—á—ë—Ç—á–∏–∫ –æ–±—ä–µ–∫—Ç–æ–≤ -->
    <div class="object-counter">
      <span class="counter-number">0</span> –æ–±—ä–µ–∫—Ç–æ–≤
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–¥–≤–∞ —Ä—è–¥–∞) -->
    <div class="filters-wrapper">
      <!-- –†—è–¥ 1: –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–ª–∞—Å—Å—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
      <div class="filters-row">
        <!-- –ü–æ–¥–ø–∏—Å—å "–ö–ª–∞—Å—Å:" —Å–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ CSS (filters-label { display: none; }) -->
        <span class="filters-label">–ö–ª–∞—Å—Å:</span>
        <div class="filters">
          <button class="filter active" data-filter="all" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã">–í—Å–µ</button>
          <button class="filter" data-filter="premium" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å">–ü—Ä–µ–º–∏—É–º</button>
          <button class="filter" data-filter="elite" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å —ç–ª–∏—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã">–≠–ª–∏—Ç–Ω—ã–π</button>
          <button class="filter" data-filter="business" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –±–∏–∑–Ω–µ—Å-–∫–ª–∞—Å—Å">–ë–∏–∑–Ω–µ—Å</button>
          <button class="filter" data-filter="comfort" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç+">–ö–æ–º—Ñ–æ—Ä—Ç+</button>
        </div>
      </div>

      <!-- –†—è–¥ 2: –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º (–í–´–ü–ê–î–ê–Æ–©–ò–ô –°–ü–ò–°–û–ö –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–æ–∫) -->
      <div class="filters-row">
        <!-- –ü–æ–¥–ø–∏—Å—å "–ì–æ—Ä–æ–¥:" —Å–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ CSS -->
        <span class="filters-label">–ì–æ—Ä–æ–¥:</span>
        <div class="city-selector">
          <select id="city-select" class="city-dropdown" aria-label="–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥">
            <option value="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
            <option value="–ú–æ—Å–∫–≤–∞">üá∑üá∫ –ú–æ—Å–∫–≤–∞</option>
            <option value="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
            <option value="–î—É–±–∞–π">üá¶üá™ Dubai</option>
          </select>
        </div>
        <!-- –°—Ç–∞—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã, –Ω–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å ‚Äî —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
        <div class="city-filters" style="display: none;">
          <button class="city-filter active" data-city="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</button>
          <button class="city-filter" data-city="–ú–æ—Å–∫–≤–∞">üá∑üá∫ –ú–æ—Å–∫–≤–∞</button>
          <button class="city-filter" data-city="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</button>
          <button class="city-filter" data-city="–î—É–±–∞–π">üá¶üá™ Dubai</button>
        </div>
        -->
      </div>
    </div>
  </div>

  <!-- ========== –°–ï–¢–ö–ê –ö–ê–†–¢–û–ß–ï–ö ========== -->
  <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–º load-objects.js -->
  <main class="grid"></main>

  <!-- ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ö–û–ù–¢–ê–ö–¢–ê ========== -->
<div id="modal-contact" class="modal">
  <div class="modal-header">
    <span class="modal-id">–°–≤—è–∑—å —Å –∞–≥–µ–Ω—Ç–æ–º</span>
    <button class="modal-close" onclick="closeModal('modal-contact')" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
  </div>
  <div class="modal-logo"><img src="images/logo-Kalashnikov.png" alt=""></div>
  <div class="modal-body">
    <div class="contact-container">
      <h2>–û–±—ä–µ–∫—Ç: <span id="contact-project-name">–û–±—ä–µ–∫—Ç 1</span></h2>
      <p class="contact-project-id" id="contact-project-id">ID: OBJ-001</p>

      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (—ç—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç) -->
      <div class="contact-cards">
        <div class="contact-card" onclick="window.open('https://t.me/NAKalashnikov', '_blank')" role="button" tabindex="0" aria-label="–°–≤—è–∑–∞—Ç—å—Å—è –≤ Telegram">
          <div class="contact-icon">üì±</div>
          <div class="contact-info">
            <h3>Telegram</h3>
            <p>@NAKalashnikov</p>
            <small>–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç 24/7</small>
          </div>
        </div>

        <div class="contact-card" onclick="window.open('https://wa.me/79130019041', '_blank')" role="button" tabindex="0" aria-label="–°–≤—è–∑–∞—Ç—å—Å—è –≤ WhatsApp">
          <div class="contact-icon">üìû</div>
          <div class="contact-info">
            <h3>WhatsApp</h3>
            <p>+7 (913) 001-90-41</p>
            <small>–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è</small>
          </div>
        </div>

        <div class="contact-card" onclick="window.location.href='tel:+79130019041'" role="button" tabindex="0" aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
          <div class="contact-icon">üì≤</div>
          <div class="contact-info">
            <h3>–ü—Ä—è–º–æ–π –∑–≤–æ–Ω–æ–∫</h3>
            <p>+7 (913) 001-90-41</p>
            <small>10:00‚Äì22:00</small>
          </div>
        </div>
      </div>

      <!-- –ë—ã—Å—Ç—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—ç—Ç–∏ —Ç–µ–ø–µ—Ä—å —Ç–æ–∂–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å) -->
      <div class="quick-messages">
        <h3>–ë—ã—Å—Ç—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:</h3>
        <div class="message-tags">
          <span onclick="openTelegramWithObject(
            document.getElementById('contact-project-name').textContent,
            document.getElementById('contact-project-id').textContent.replace('ID: ', ''),
            'book'
          )" role="button" tabindex="0" aria-label="–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å">üîê –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</span>

          <span onclick="openWhatsAppWithObject(
            document.getElementById('contact-project-name').textContent,
            document.getElementById('contact-project-id').textContent.replace('ID: ', ''),
            'viewing'
          )" role="button" tabindex="0" aria-label="–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä">üè† –ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä</span>

          <span onclick="openTelegramWithObject(
            document.getElementById('contact-project-name').textContent,
            document.getElementById('contact-project-id').textContent.replace('ID: ', ''),
            'mortgage'
          )" role="button" tabindex="0" aria-label="–£–∑–Ω–∞—Ç—å –æ–± –∏–ø–æ—Ç–µ–∫–µ">üí∞ –ò–ø–æ—Ç–µ–∫–∞</span>
        </div>
      </div>

    </div>
  </div>
</div>

  <!-- ========== –ü–õ–ê–í–ê–Æ–©–ò–ï –ö–ù–û–ü–ö–ò (TG, WA, –ó–≤–æ–Ω–æ–∫) ========== -->
  <div class="floating-actions">
    <button class="float-btn telegram" onclick="window.open('https://t.me/NAKalashnikov', '_blank')" aria-label="Telegram">
      <span>üì±</span> TG
    </button>
    <button class="float-btn whatsapp" onclick="window.open('https://wa.me/79130019041', '_blank')" aria-label="WhatsApp">
      <span>üìû</span> WA
    </button>
    <button class="float-btn call" onclick="window.location.href='tel:+79130019041'" aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
      <span>üì≤</span> –ó–≤–æ–Ω–æ–∫
    </button>
  </div>

  <!-- ========== –§–£–¢–ï–† (–ü–û–î–í–ê–õ) ========== -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-text">SOMMELIER OF ELITE REAL ESTATE</div>

      <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã –ò–ü -->
      <div class="footer-legal">
        <div class="legal-item">–ò–ü –ö–∞–ª–∞—à–Ω–∏–∫–æ–≤ –ù–∏–∫–æ–ª–∞–π –ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á</div>
        <div class="legal-item">–ò–ù–ù 543315283830</div>
      </div>

      <!-- –ö–æ–ø–∏—Ä–∞–π—Ç –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ -->
      <div class="footer-copyright">
        <div class="copyright">¬© 2024 Kalashnikov Listing</div>
        <div class="developed">
          —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ
          <a href="#" class="dev-link" target="_blank" rel="noopener noreferrer">
            KALASHNIKOV.IT
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- ========== –ö–ù–û–ü–ö–ê –ù–ê–í–ï–†–• ========== -->
  <button class="scroll-top" onclick="scrollToTop()" id="scrollTop" aria-label="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>

  <!-- ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –§–û–†–ú–´ –ê–ì–ï–ù–¢–ê ========== -->
  <div id="agentFormModal" class="agent-modal" style="display:none;">
    <div class="agent-modal-content">
      <button class="agent-modal-close" onclick="PDFGenerator.closeForm()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      <h2>–î–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç–∞</h2>
      <form id="agent-data-form">
        <div class="form-group">
          <label>–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç *</label>
          <select id="temp-object-select" required>
            <option value="">-- –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤... --</option>
          </select>
        </div>
        <div class="form-group">
          <label>–í–∞—à–µ –∏–º—è *</label>
          <input type="text" id="agent-name-input" required>
        </div>
        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
          <input type="tel" id="agent-phone-input" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="agent-email-input">
        </div>
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ñ–∏—Å–∞</label>
          <input type="text" id="agent-office-input">
        </div>
        <div class="form-buttons">
          <button type="button" onclick="PDFGenerator.processPDF()" class="btn-submit">–°–æ–∑–¥–∞—Ç—å PDF</button>
          <button type="button" onclick="PDFGenerator.closeForm()" class="btn-cancel">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ========== –°–ö–†–´–¢–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –í–†–ï–ú–ï–ù–ù–û–ô –ó–ê–ì–†–£–ó–ö–ò ========== -->
  <div id="tempObjectContainer" style="display: none;"></div>

  <!-- ========== –ë–ò–ë–õ–ò–û–¢–ï–ö–ò –î–õ–Ø PDF ========== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- ========== –û–°–ù–û–í–ù–´–ï –°–ö–†–ò–ü–¢–´ ========== -->
  <script src="js/ui-controller.js"></script>  <!-- –º–æ–¥–∞–ª–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã, —Å–∫—Ä–æ–ª–ª -->
  <script src="js/pdf-generator.js"></script>  <!-- PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä -->
  <script src="js/load-objects.js"></script>   <!-- –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
  <script src="js/tracking.js"></script>        <!-- –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è -->

  <script>
    // ============================================
    // 1. –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –¢–Å–ú–ù–û–ô –¢–ï–ú–´
    // ============================================
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const button = document.getElementById('themeToggle');

      if (currentTheme === 'dark') {
        document.documentElement.removeAttribute('data-theme');
        button.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
      } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        button.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
      }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Ç–µ–º—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    (function() {
      const savedTheme = localStorage.getItem('theme');
      const button = document.getElementById('themeToggle');

      if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        if (button) button.textContent = '‚òÄÔ∏è';
      } else {
        if (button) button.textContent = 'üåô';
      }
    })();

    // ============================================
    // 2. –õ–û–ì–ò–ö–ê –§–ò–õ–¨–¢–†–ê–¶–ò–ò (–ö–õ–ê–°–° + –ì–û–†–û–î)
    // ============================================
    let currentCategoryFilter = 'all';
    let currentCityFilter = 'all';

    // –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function applyFilters() {
      const cards = document.querySelectorAll('.card');
      let count = 0;

      cards.forEach(card => {
        const cardCategory = card.dataset.category;
        const cardCity = card.dataset.city;

        const categoryMatch = currentCategoryFilter === 'all' || cardCategory === currentCategoryFilter;
        const cityMatch = currentCityFilter === 'all' || cardCity === currentCityFilter;

        if (categoryMatch && cityMatch) {
          card.classList.remove('hidden');
          count++;
        } else {
          card.classList.add('hidden');
        }
      });

      const counter = document.querySelector('.counter-number');
      if (counter) counter.textContent = count;
    }

    // –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–ª–∞—Å—Å—É (–∫–Ω–æ–ø–∫–∏)
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.filter').forEach(function(filter) {
        filter.addEventListener('click', function() {
          // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∫–ª–∞—Å—Å–∞
          document.querySelectorAll('.filter').forEach(f => f.classList.remove('active'));
          // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
          this.classList.add('active');

          currentCategoryFilter = this.dataset.filter;
          applyFilters();
        });
      });

      // –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º (–í–´–ü–ê–î–ê–Æ–©–ò–ô –°–ü–ò–°–û–ö)
      const citySelect = document.getElementById('city-select');
      if (citySelect) {
        citySelect.addEventListener('change', function() {
          currentCityFilter = this.value;
          applyFilters();
        });
      }
    });
  </script>

<script>
// ============================================
// –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ë–´–°–¢–†–´–• –°–û–û–ë–©–ï–ù–ò–ô (–ü–†–Ø–ú–û –í HTML)
// ============================================

function openTelegramWithObject(objectName, objectId, action) {
  let text = '';
  switch(action) {
    case 'book': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å ${objectName} (ID: ${objectId})`; break;
    case 'viewing': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä ${objectName} (ID: ${objectId})`; break;
    case 'mortgage': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–ø–æ—Ç–µ–∫–∞ –Ω–∞ ${objectName} (ID: ${objectId})`; break;
    default: text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –æ–±—ä–µ–∫—Ç ${objectName} (ID: ${objectId})`;
  }
  window.open(`https://t.me/NAKalashnikov?text=${encodeURIComponent(text)}`, '_blank');
}

function openWhatsAppWithObject(objectName, objectId, action) {
  let text = '';
  switch(action) {
    case 'book': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å ${objectName} (ID: ${objectId})`; break;
    case 'viewing': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä ${objectName} (ID: ${objectId})`; break;
    case 'mortgage': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–ø–æ—Ç–µ–∫–∞ –Ω–∞ ${objectName} (ID: ${objectId})`; break;
    default: text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –æ–±—ä–µ–∫—Ç ${objectName} (ID: ${objectId})`;
  }
  window.open(`https://wa.me/79130019041?text=${encodeURIComponent(text)}`, '_blank');
}

console.log('‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø—Ä—è–º–æ –≤ HTML');
</script>

<!-- ========== –°–¢–ò–õ–ò –î–õ–Ø –ü–û–í–û–†–û–¢–ê –≠–ö–†–ê–ù–ê –ù–ê –ì–õ–ê–í–ù–û–ô ========== -->
<style>
  /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
  @media (max-width: 768px) and (orientation: landscape) {
    .grid {
      grid-template-columns: repeat(3, 1fr) !important; /* 3 –∫–æ–ª–æ–Ω–∫–∏ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
      gap: 10px;
      padding: 15px;
    }

    .card {
      aspect-ratio: 3/4;
    }

    .card-title {
      font-size: 1.1rem;
    }

    .card-area {
      font-size: 0.8rem;
    }

    .card-price {
      font-size: 1rem;
    }

    .card-contact-btn {
      padding: 6px 10px;
      font-size: 0.8rem;
    }

    .floating-actions {
      bottom: 10px;
      left: 10px;
      gap: 5px;
    }

    .float-btn {
      padding: 8px 16px;
      font-size: 0.8rem;
    }
  }

  /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
  @media (max-width: 640px) and (orientation: landscape) {
    .grid {
      grid-template-columns: repeat(2, 1fr) !important; /* 2 –∫–æ–ª–æ–Ω–∫–∏ */
    }
  }
</style>

<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ -->
  <meta name="description" content="–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –æ—Ç KALASHNIKOV LISTING">
  <meta property="og:title" content="KALASHNIKOV LISTING ‚Äî –°–æ–º–µ–ª—å–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏">
  <meta property="og:image" content="images/preview.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kalashnikovlisting.ru">

  <title>KALASHNIKOV LISTING</title>

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <!-- –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body>
  <!-- ========== –•–ï–î–ï–† (–®–ê–ü–ö–ê) ========== -->
  <header class="header">
    <div class="header-container">
      <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –ª–æ–≥–æ—Ç–∏–ø –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="header-left">
        <h1>KALASHNIKOV <span>LISTING</span></h1>
        <div class="header-subtitle">–°–æ–º–µ–ª—å–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã -->
      <div class="header-right">
        <button class="theme-toggle-header" onclick="toggleTheme()" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
      </div>
    </div>
  </header>

  <!-- ========== –¢–£–õ–ë–ê–† (–°–ß–Å–¢–ß–ò–ö + –§–ò–õ–¨–¢–†–´) ========== -->
  <div class="toolbar">
    <!-- –°—á—ë—Ç—á–∏–∫ –æ–±—ä–µ–∫—Ç–æ–≤ -->
    <div class="object-counter">
      <span class="counter-number">0</span> –æ–±—ä–µ–∫—Ç–æ–≤
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–¥–≤–∞ —Ä—è–¥–∞) -->
    <div class="filters-wrapper">
      <!-- –†—è–¥ 1: –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–ª–∞—Å—Å—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ -->
      <div class="filters-row">
        <!-- –ü–æ–¥–ø–∏—Å—å "–ö–ª–∞—Å—Å:" —Å–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ CSS (filters-label { display: none; }) -->
        <span class="filters-label">–ö–ª–∞—Å—Å:</span>
        <div class="filters">
          <button class="filter active" data-filter="all" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã">–í—Å–µ</button>
          <button class="filter" data-filter="premium" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å">–ü—Ä–µ–º–∏—É–º</button>
          <button class="filter" data-filter="elite" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å —ç–ª–∏—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã">–≠–ª–∏—Ç–Ω—ã–π</button>
          <button class="filter" data-filter="business" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –±–∏–∑–Ω–µ—Å-–∫–ª–∞—Å—Å">–ë–∏–∑–Ω–µ—Å</button>
          <button class="filter" data-filter="comfort" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç+">–ö–æ–º—Ñ–æ—Ä—Ç+</button>
        </div>
      </div>

      <!-- –†—è–¥ 2: –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º (–í–´–ü–ê–î–ê–Æ–©–ò–ô –°–ü–ò–°–û–ö –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–æ–∫) -->
      <div class="filters-row">
        <!-- –ü–æ–¥–ø–∏—Å—å "–ì–æ—Ä–æ–¥:" —Å–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ CSS -->
        <span class="filters-label">–ì–æ—Ä–æ–¥:</span>
        <div class="city-selector">
          <select id="city-select" class="city-dropdown" aria-label="–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥">
            <option value="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
            <option value="–ú–æ—Å–∫–≤–∞">üá∑üá∫ –ú–æ—Å–∫–≤–∞</option>
            <option value="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
            <option value="–î—É–±–∞–π">üá¶üá™ Dubai</option>
          </select>
        </div>
        <!-- –°—Ç–∞—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –≥–æ—Ä–æ–¥–æ–≤ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã, –Ω–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å ‚Äî —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
        <div class="city-filters" style="display: none;">
          <button class="city-filter active" data-city="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</button>
          <button class="city-filter" data-city="–ú–æ—Å–∫–≤–∞">üá∑üá∫ –ú–æ—Å–∫–≤–∞</button>
          <button class="city-filter" data-city="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</button>
          <button class="city-filter" data-city="–î—É–±–∞–π">üá¶üá™ Dubai</button>
        </div>
        -->
      </div>
    </div>
  </div>

  <!-- ========== –°–ï–¢–ö–ê –ö–ê–†–¢–û–ß–ï–ö ========== -->
  <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–º load-objects.js -->
  <main class="grid"></main>

  <!-- ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ö–û–ù–¢–ê–ö–¢–ê ========== -->
<div id="modal-contact" class="modal">
  <div class="modal-header">
    <span class="modal-id">–°–≤—è–∑—å —Å –∞–≥–µ–Ω—Ç–æ–º</span>
    <button class="modal-close" onclick="closeModal('modal-contact')" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
  </div>
  <div class="modal-logo"><img src="images/logo-Kalashnikov.png" alt=""></div>
  <div class="modal-body">
    <div class="contact-container">
      <h2>–û–±—ä–µ–∫—Ç: <span id="contact-project-name">–û–±—ä–µ–∫—Ç 1</span></h2>
      <p class="contact-project-id" id="contact-project-id">ID: OBJ-001</p>

      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (—ç—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç) -->
      <div class="contact-cards">
        <div class="contact-card" onclick="window.open('https://t.me/NAKalashnikov', '_blank')" role="button" tabindex="0" aria-label="–°–≤—è–∑–∞—Ç—å—Å—è –≤ Telegram">
          <div class="contact-icon">üì±</div>
          <div class="contact-info">
            <h3>Telegram</h3>
            <p>@NAKalashnikov</p>
            <small>–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç 24/7</small>
          </div>
        </div>

        <div class="contact-card" onclick="window.open('https://wa.me/79130019041', '_blank')" role="button" tabindex="0" aria-label="–°–≤—è–∑–∞—Ç—å—Å—è –≤ WhatsApp">
          <div class="contact-icon">üìû</div>
          <div class="contact-info">
            <h3>WhatsApp</h3>
            <p>+7 (913) 001-90-41</p>
            <small>–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è</small>
          </div>
        </div>

        <div class="contact-card" onclick="window.location.href='tel:+79130019041'" role="button" tabindex="0" aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
          <div class="contact-icon">üì≤</div>
          <div class="contact-info">
            <h3>–ü—Ä—è–º–æ–π –∑–≤–æ–Ω–æ–∫</h3>
            <p>+7 (913) 001-90-41</p>
            <small>10:00‚Äì22:00</small>
          </div>
        </div>
      </div>

      <!-- –ë—ã—Å—Ç—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—ç—Ç–∏ —Ç–µ–ø–µ—Ä—å —Ç–æ–∂–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å) -->
      <div class="quick-messages">
        <h3>–ë—ã—Å—Ç—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:</h3>
        <div class="message-tags">
          <span onclick="openTelegramWithObject(
            document.getElementById('contact-project-name').textContent,
            document.getElementById('contact-project-id').textContent.replace('ID: ', ''),
            'book'
          )" role="button" tabindex="0" aria-label="–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å">üîê –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</span>

          <span onclick="openWhatsAppWithObject(
            document.getElementById('contact-project-name').textContent,
            document.getElementById('contact-project-id').textContent.replace('ID: ', ''),
            'viewing'
          )" role="button" tabindex="0" aria-label="–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä">üè† –ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä</span>

          <span onclick="openTelegramWithObject(
            document.getElementById('contact-project-name').textContent,
            document.getElementById('contact-project-id').textContent.replace('ID: ', ''),
            'mortgage'
          )" role="button" tabindex="0" aria-label="–£–∑–Ω–∞—Ç—å –æ–± –∏–ø–æ—Ç–µ–∫–µ">üí∞ –ò–ø–æ—Ç–µ–∫–∞</span>
        </div>
      </div>

    </div>
  </div>
</div>

  <!-- ========== –ü–õ–ê–í–ê–Æ–©–ò–ï –ö–ù–û–ü–ö–ò (TG, WA, –ó–≤–æ–Ω–æ–∫) ========== -->
  <div class="floating-actions">
    <button class="float-btn telegram" onclick="window.open('https://t.me/NAKalashnikov', '_blank')" aria-label="Telegram">
      <span>üì±</span> TG
    </button>
    <button class="float-btn whatsapp" onclick="window.open('https://wa.me/79130019041', '_blank')" aria-label="WhatsApp">
      <span>üìû</span> WA
    </button>
    <button class="float-btn call" onclick="window.location.href='tel:+79130019041'" aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
      <span>üì≤</span> –ó–≤–æ–Ω–æ–∫
    </button>
  </div>

  <!-- ========== –§–£–¢–ï–† (–ü–û–î–í–ê–õ) ========== -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-text">SOMMELIER OF ELITE REAL ESTATE</div>

      <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã –ò–ü -->
      <div class="footer-legal">
        <div class="legal-item">–ò–ü –ö–∞–ª–∞—à–Ω–∏–∫–æ–≤ –ù–∏–∫–æ–ª–∞–π –ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á</div>
        <div class="legal-item">–ò–ù–ù 543315283830</div>
      </div>

      <!-- –ö–æ–ø–∏—Ä–∞–π—Ç –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ -->
      <div class="footer-copyright">
        <div class="copyright">¬© 2024 Kalashnikov Listing</div>
        <div class="developed">
          —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ
          <a href="#" class="dev-link" target="_blank" rel="noopener noreferrer">
            KALASHNIKOV.IT
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- ========== –ö–ù–û–ü–ö–ê –ù–ê–í–ï–†–• ========== -->
  <button class="scroll-top" onclick="scrollToTop()" id="scrollTop" aria-label="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>

  <!-- ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –§–û–†–ú–´ –ê–ì–ï–ù–¢–ê ========== -->
  <div id="agentFormModal" class="agent-modal" style="display:none;">
    <div class="agent-modal-content">
      <button class="agent-modal-close" onclick="PDFGenerator.closeForm()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      <h2>–î–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç–∞</h2>
      <form id="agent-data-form">
        <div class="form-group">
          <label>–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç *</label>
          <select id="temp-object-select" required>
            <option value="">-- –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤... --</option>
          </select>
        </div>
        <div class="form-group">
          <label>–í–∞—à–µ –∏–º—è *</label>
          <input type="text" id="agent-name-input" required>
        </div>
        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
          <input type="tel" id="agent-phone-input" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="agent-email-input">
        </div>
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ñ–∏—Å–∞</label>
          <input type="text" id="agent-office-input">
        </div>
        <div class="form-buttons">
          <button type="button" onclick="PDFGenerator.processPDF()" class="btn-submit">–°–æ–∑–¥–∞—Ç—å PDF</button>
          <button type="button" onclick="PDFGenerator.closeForm()" class="btn-cancel">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ========== –°–ö–†–´–¢–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –í–†–ï–ú–ï–ù–ù–û–ô –ó–ê–ì–†–£–ó–ö–ò ========== -->
  <div id="tempObjectContainer" style="display: none;"></div>

  <!-- ========== –ë–ò–ë–õ–ò–û–¢–ï–ö–ò –î–õ–Ø PDF ========== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- ========== –û–°–ù–û–í–ù–´–ï –°–ö–†–ò–ü–¢–´ ========== -->
  <script src="js/ui-controller.js"></script>  <!-- –º–æ–¥–∞–ª–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã, —Å–∫—Ä–æ–ª–ª -->
  <script src="js/pdf-generator.js"></script>  <!-- PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä -->
  <script src="js/load-objects.js"></script>   <!-- –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ -->
  <script src="js/tracking.js"></script>        <!-- –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è -->

  <script>
    // ============================================
    // 1. –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –¢–Å–ú–ù–û–ô –¢–ï–ú–´
    // ============================================
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const button = document.getElementById('themeToggle');

      if (currentTheme === 'dark') {
        document.documentElement.removeAttribute('data-theme');
        button.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
      } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        button.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
      }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Ç–µ–º—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    (function() {
      const savedTheme = localStorage.getItem('theme');
      const button = document.getElementById('themeToggle');

      if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        if (button) button.textContent = '‚òÄÔ∏è';
      } else {
        if (button) button.textContent = 'üåô';
      }
    })();

    // ============================================
    // 2. –õ–û–ì–ò–ö–ê –§–ò–õ–¨–¢–†–ê–¶–ò–ò (–ö–õ–ê–°–° + –ì–û–†–û–î)
    // ============================================
    let currentCategoryFilter = 'all';
    let currentCityFilter = 'all';

    // –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function applyFilters() {
      const cards = document.querySelectorAll('.card');
      let count = 0;

      cards.forEach(card => {
        const cardCategory = card.dataset.category;
        const cardCity = card.dataset.city;

        const categoryMatch = currentCategoryFilter === 'all' || cardCategory === currentCategoryFilter;
        const cityMatch = currentCityFilter === 'all' || cardCity === currentCityFilter;

        if (categoryMatch && cityMatch) {
          card.classList.remove('hidden');
          count++;
        } else {
          card.classList.add('hidden');
        }
      });

      const counter = document.querySelector('.counter-number');
      if (counter) counter.textContent = count;
    }

    // –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–ª–∞—Å—Å—É (–∫–Ω–æ–ø–∫–∏)
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.filter').forEach(function(filter) {
        filter.addEventListener('click', function() {
          // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∫–ª–∞—Å—Å–∞
          document.querySelectorAll('.filter').forEach(f => f.classList.remove('active'));
          // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
          this.classList.add('active');

          currentCategoryFilter = this.dataset.filter;
          applyFilters();
        });
      });

      // –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º (–í–´–ü–ê–î–ê–Æ–©–ò–ô –°–ü–ò–°–û–ö)
      const citySelect = document.getElementById('city-select');
      if (citySelect) {
        citySelect.addEventListener('change', function() {
          currentCityFilter = this.value;
          applyFilters();
        });
      }
    });
  </script>

<script>
// ============================================
// –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ë–´–°–¢–†–´–• –°–û–û–ë–©–ï–ù–ò–ô (–ü–†–Ø–ú–û –í HTML)
// ============================================

function openTelegramWithObject(objectName, objectId, action) {
  let text = '';
  switch(action) {
    case 'book': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å ${objectName} (ID: ${objectId})`; break;
    case 'viewing': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä ${objectName} (ID: ${objectId})`; break;
    case 'mortgage': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–ø–æ—Ç–µ–∫–∞ –Ω–∞ ${objectName} (ID: ${objectId})`; break;
    default: text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –æ–±—ä–µ–∫—Ç ${objectName} (ID: ${objectId})`;
  }
  window.open(`https://t.me/NAKalashnikov?text=${encodeURIComponent(text)}`, '_blank');
}

function openWhatsAppWithObject(objectName, objectId, action) {
  let text = '';
  switch(action) {
    case 'book': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å ${objectName} (ID: ${objectId})`; break;
    case 'viewing': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä ${objectName} (ID: ${objectId})`; break;
    case 'mortgage': text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–ø–æ—Ç–µ–∫–∞ –Ω–∞ ${objectName} (ID: ${objectId})`; break;
    default: text = `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –æ–±—ä–µ–∫—Ç ${objectName} (ID: ${objectId})`;
  }
  window.open(`https://wa.me/79130019041?text=${encodeURIComponent(text)}`, '_blank');
}

console.log('‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø—Ä—è–º–æ –≤ HTML');
</script>

<!-- ========== –°–¢–ò–õ–ò –î–õ–Ø –ü–û–í–û–†–û–¢–ê –≠–ö–†–ê–ù–ê –ù–ê –ì–õ–ê–í–ù–û–ô ========== -->
<style>
  /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
  @media (max-width: 768px) and (orientation: landscape) {
    .grid {
      grid-template-columns: repeat(3, 1fr) !important; /* 3 –∫–æ–ª–æ–Ω–∫–∏ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
      gap: 10px;
      padding: 15px;
    }

    .card {
      aspect-ratio: 3/4;
    }

    .card-title {
      font-size: 1.1rem;
    }

    .card-area {
      font-size: 0.8rem;
    }

    .card-price {
      font-size: 1rem;
    }

    .card-contact-btn {
      padding: 6px 10px;
      font-size: 0.8rem;
    }

    .floating-actions {
      bottom: 10px;
      left: 10px;
      gap: 5px;
    }

    .float-btn {
      padding: 8px 16px;
      font-size: 0.8rem;
    }
  }

  /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
  @media (max-width: 640px) and (orientation: landscape) {
    .grid {
      grid-template-columns: repeat(2, 1fr) !important; /* 2 –∫–æ–ª–æ–Ω–∫–∏ */
    }
  }
</style>

<!-- ========== –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –°–¢–ò–õ–ò –î–õ–Ø –ü–û–í–û–†–û–¢–ê –≠–ö–†–ê–ù–ê ========== -->
<style>
  /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ - —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º */
  @media (max-width: 768px) and (orientation: landscape) {
    body, html {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
    }

    .grid {
      display: grid !important;
      grid-template-columns: repeat(3, 1fr) !important;
      gap: 10px !important;
      padding: 15px !important;
    }

    .card {
      aspect-ratio: 3/4 !important;
      width: 100% !important;
    }

    .card-title {
      font-size: 1.1rem !important;
    }

    .card-area {
      font-size: 0.8rem !important;
    }

    .card-price {
      font-size: 1rem !important;
    }

    .card-contact-btn {
      padding: 6px 10px !important;
      font-size: 0.8rem !important;
    }

    .floating-actions {
      bottom: 10px !important;
      left: 10px !important;
      gap: 5px !important;
      transform: scale(0.9) !important;
    }

    .float-btn {
      padding: 8px 16px !important;
      font-size: 0.8rem !important;
    }

    /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
    .toolbar {
      padding: 10px !important;
    }

    .filters-wrapper {
      gap: 5px !important;
    }

    .filter, .city-dropdown {
      padding: 4px 12px !important;
      font-size: 0.8rem !important;
    }
  }

  /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
  @media (max-width: 640px) and (orientation: landscape) {
    .grid {
      grid-template-columns: repeat(2, 1fr) !important;
    }

    .card-title {
      font-size: 1rem !important;
    }
  }

  /* –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ */
  @media (max-width: 768px) and (orientation: landscape) {
    .slide-content {
      max-width: 60% !important;
      margin-bottom: 30px !important;
      margin-left: 30px !important;
    }

    .slide-content.right {
      margin-right: 30px !important;
    }

    .slide h1 {
      font-size: 2rem !important;
    }

    .slide h2 {
      font-size: 1.5rem !important;
    }

    .slide .price {
      font-size: 1.5rem !important;
    }

    .video-container iframe {
      width: 80% !important;
      height: 80% !important;
    }
  }
</style>

</body>

</html>