<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –æ—Ç KALASHNIKOV LISTING">
  <meta property="og:title" content="KALASHNIKOV LISTING ‚Äî –°–æ–º–µ–ª—å–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏">
  <meta property="og:image" content="images/preview.jpg">
  <title>KALASHNIKOV LISTING</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>

<body>
  <header class="header">
    <div class="header-container">
      <div class="header-left">
        <h1>KALASHNIKOV <span>LISTING</span></h1>
        <div class="header-subtitle">–°–æ–º–µ–ª—å–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</div>
      </div>
      <div class="header-right">
        <button class="theme-toggle-header" onclick="toggleTheme()" id="themeToggle">üåô</button>
      </div>
    </div>
  </header>

  <div class="toolbar">
    <div class="object-counter">
      <span class="counter-number">0</span> –æ–±—ä–µ–∫—Ç–æ–≤
    </div>

    <div class="filters-wrapper">
      <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–ª–∞—Å—Å—É -->
      <div class="filters-row">
        <span class="filters-label">–ö–ª–∞—Å—Å:</span>
        <div class="filters">
          <button class="filter active" data-filter="all">–í—Å–µ</button>
          <button class="filter" data-filter="premium">–ü—Ä–µ–º–∏—É–º</button>
          <button class="filter" data-filter="elite">–≠–ª–∏—Ç–Ω—ã–π</button>
          <button class="filter" data-filter="business">–ë–∏–∑–Ω–µ—Å</button>
          <button class="filter" data-filter="comfort">–ö–æ–º—Ñ–æ—Ä—Ç+</button>
        </div>
      </div>

      <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º -->
      <div class="filters-row">
        <span class="filters-label">–ì–æ—Ä–æ–¥:</span>
        <div class="city-filters">
          <button class="city-filter active" data-city="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</button>
          <button class="city-filter" data-city="–ú–æ—Å–∫–≤–∞">üá∑üá∫ –ú–æ—Å–∫–≤–∞</button>
          <button class="city-filter" data-city="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">üá∑üá∫ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</button>
          <button class="city-filter" data-city="–î—É–±–∞–π">üá¶üá™ Dubai</button>
        </div>
      </div>
    </div>
  </div>

  <main class="grid"></main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ -->
  <div id="modal-contact" class="modal">
    <div class="modal-header">
      <span class="modal-id">–°–≤—è–∑—å —Å –∞–≥–µ–Ω—Ç–æ–º</span>
      <button class="modal-close" onclick="closeModal('modal-contact')">‚úï</button>
    </div>
    <div class="modal-logo"><img src="images/logo-Kalashnikov.png" alt=""></div>
    <div class="modal-body">
      <div class="contact-container">
        <h2>–û–±—ä–µ–∫—Ç: <span id="contact-project-name">–û–±—ä–µ–∫—Ç 1</span></h2>
        <p class="contact-project-id" id="contact-project-id">ID: OBJ-001</p>
        <div class="contact-cards">
          <div class="contact-card" onclick="window.open('https://t.me/NAKalashnikov', '_blank')">
            <div class="contact-icon">üì±</div>
            <div class="contact-info">
              <h3>Telegram</h3>
              <p>@NAKalashnikov</p>
              <small>–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç 24/7</small>
            </div>
          </div>
          <div class="contact-card" onclick="window.open('https://wa.me/79130019041', '_blank')">
            <div class="contact-icon">üìû</div>
            <div class="contact-info">
              <h3>WhatsApp</h3>
              <p>+7 (913) 001-90-41</p>
              <small>–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è</small>
            </div>
          </div>
          <div class="contact-card" onclick="window.location.href='tel:+79130019041'">
            <div class="contact-icon">üì≤</div>
            <div class="contact-info">
              <h3>–ü—Ä—è–º–æ–π –∑–≤–æ–Ω–æ–∫</h3>
              <p>+7 (913) 001-90-41</p>
              <small>10:00‚Äì22:00</small>
            </div>
          </div>
        </div>
        <div class="quick-messages">
          <h3>–ë—ã—Å—Ç—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:</h3>
          <div class="message-tags">
            <span onclick="window.open('https://t.me/NAKalashnikov?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å', '_blank')">üîê
              –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</span>
            <span onclick="window.open('https://wa.me/79130019041?text=–•–æ—á—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä', '_blank')">üè†
              –ó–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä</span>
            <span onclick="window.open('https://t.me/NAKalashnikov?text=–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∏–ø–æ—Ç–µ–∫–∞', '_blank')">üí∞
              –ò–ø–æ—Ç–µ–∫–∞</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- –ü–ª–∞–≤–∞—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ -->
  <div class="floating-actions">
    <button class="float-btn telegram" onclick="window.open('https://t.me/NAKalashnikov', '_blank')"><span>üì±</span>
      TG</button>
    <button class="float-btn whatsapp" onclick="window.open('https://wa.me/79130019041', '_blank')"><span>üìû</span>
      WA</button>
    <button class="float-btn call" onclick="window.location.href='tel:+79130019041'"><span>üì≤</span> –ó–≤–æ–Ω–æ–∫</button>
  </div>

  <!-- –§—É—Ç–µ—Ä -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-text">SOMMELIER OF ELITE REAL ESTATE</div>

      <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã –ò–ü -->
      <div class="footer-legal">
        <div class="legal-item">–ò–ü –ö–∞–ª–∞—à–Ω–∏–∫–æ–≤ –ù–∏–∫–æ–ª–∞–π –ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á</div>
        <div class="legal-item">–ò–ù–ù 543315283830</div>
      </div>

      <!-- –ö–æ–ø–∏—Ä–∞–π—Ç –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ -->
      <div class="footer-copyright">
        <div class="copyright">¬© 2024 Kalashnikov Listing</div>
        <div class="developed">
          —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ
          <a href="#" class="dev-link">
            KALASHNIKOV.IT
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–≤–µ—Ä—Ö -->
  <button class="scroll-top" onclick="scrollToTop()" id="scrollTop">‚Üë</button>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ä–º—ã –∞–≥–µ–Ω—Ç–∞ -->
  <div id="agentFormModal" class="agent-modal" style="display:none;">
    <div class="agent-modal-content">
      <button class="agent-modal-close" onclick="PDFGenerator.closeForm()">‚úï</button>
      <h2>–î–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç–∞</h2>
      <form id="agent-data-form">
        <div class="form-group">
          <label>–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç *</label>
          <select id="temp-object-select" required>
            <option value="">-- –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤... --</option>
          </select>
        </div>
        <div class="form-group">
          <label>–í–∞—à–µ –∏–º—è *</label>
          <input type="text" id="agent-name-input" required>
        </div>
        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
          <input type="tel" id="agent-phone-input" required>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="agent-email-input">
        </div>
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ñ–∏—Å–∞</label>
          <input type="text" id="agent-office-input">
        </div>
        <div class="form-buttons">
          <button type="button" onclick="PDFGenerator.processPDF()" class="btn-submit">–°–æ–∑–¥–∞—Ç—å PDF</button>
          <button type="button" onclick="PDFGenerator.closeForm()" class="btn-cancel">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>
  </div>

  <!-- –°–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ -->
  <div id="tempObjectContainer" style="display: none;"></div>

  <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="js/ui-controller.js"></script>
  <script src="js/pdf-generator.js"></script>
  <script src="js/load-objects.js"></script>

  <script>
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const button = document.getElementById('themeToggle');

      if (currentTheme === 'dark') {
        document.documentElement.removeAttribute('data-theme');
        button.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
      } else {
        document.documentElement.setAttribute('data-theme', 'dark');
        button.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
      }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Ç–µ–º—ã
    (function () {
      const savedTheme = localStorage.getItem('theme');
      const button = document.getElementById('themeToggle');

      if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        if (button) button.textContent = '‚òÄÔ∏è';
      }
    })();

    // ============================================
    // –õ–û–ì–ò–ö–ê –§–ò–õ–¨–¢–†–ê–¶–ò–ò (–∫–ª–∞—Å—Å + –≥–æ—Ä–æ–¥)
    // ============================================
    let currentCategoryFilter = 'all';
    let currentCityFilter = 'all';

    function applyFilters() {
      const cards = document.querySelectorAll('.card');
      let count = 0;

      cards.forEach(card => {
        const cardCategory = card.dataset.category;
        const cardCity = card.dataset.city;

        const categoryMatch = currentCategoryFilter === 'all' || cardCategory === currentCategoryFilter;
        const cityMatch = currentCityFilter === 'all' || cardCity === currentCityFilter;

        if (categoryMatch && cityMatch) {
          card.classList.remove('hidden');
          count++;
        } else {
          card.classList.add('hidden');
        }
      });

      const counter = document.querySelector('.counter-number');
      if (counter) counter.textContent = count;
    }

    // –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–ª–∞—Å—Å—É
    document.addEventListener('DOMContentLoaded', function () {
      document.querySelectorAll('.filter').forEach(function (filter) {
        filter.addEventListener('click', function () {
          document.querySelectorAll('.filter').forEach(f => f.classList.remove('active'));
          this.classList.add('active');

          currentCategoryFilter = this.dataset.filter;
          applyFilters();
        });
      });

      // –§–∏–ª—å—Ç—Ä—ã –ø–æ –≥–æ—Ä–æ–¥–∞–º
      document.querySelectorAll('.city-filter').forEach(function (filter) {
        filter.addEventListener('click', function () {
          document.querySelectorAll('.city-filter').forEach(f => f.classList.remove('active'));
          this.classList.add('active');

          currentCityFilter = this.dataset.city;
          applyFilters();
        });
      });
    });
  </script>
</body>

</html>
